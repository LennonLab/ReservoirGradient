---
title: "Reservoir Gradient"
author: "Jay T. Lennon""
date: "`r format(Sys.time(), '%d %B, %Y')`"
header-includes:
   - \usepackage{array}
output: pdf_document
geometry: margin=2.54cm
---

Project looking at microbial composition and processes along a reservoir gradient

```{r}
rm(list=ls())
getwd()
setwd("/Users/lennonj/GitHub/ResGrad")
```

```{r}
require("png")
```

## MICROBIAL METABOLISM: BP, BR, BGE
Read in data 
```{r}
metab <- read.table("data/res.grad.metab.txt", sep="\t", header=TRUE)
colnames(metab)[1] <- "dist"
colnames(metab)[2] <- "BP"
colnames(metab)[3] <- "BR"
BGE <- round((metab$BP/(metab$BP + metab$BR)),3)
metab <- cbind(metab, BGE)
```

# FIGURE 1: METABOLISM ALONG GRADIENT
```{r}
png(filename="/Users/lennonj/GitHub/ResGrad/figures/Figure1.png",
    width = 1200, height = 1200, res = 96*2)

par(mar = c(1, 10, 1, 10), mfrow=c(3,1))

# Baterial Producivity
plot(metab$dist, metab$BP, ylab = "", xlab = "", pch = 22, ylim = c(0, 2), xlim = c(0, 400),
     cex = 2, bg = "white", col = "black", cex.lab = 2, las = 1, lwd = 2,
     yaxt = "n", xaxt = "n")
box(lwd = 2)

axis(side = 2, lwd.ticks = 2, cex.axis = 1.5, las = 1,
    labels = c("0.0", "1.0", "2.0"), at = c(0, 1.0, 2.0))
                              
axis(side = 4, lwd.ticks = 2, labels = F,  cex.axis = 2, las = 1, 
   at = c(0, 1, 2))

# axis(side = 1, lwd.ticks = 2, cex.axis = 1.5, las = 1,
#     labels = c("0", "100", "200", "300", "400"), at = c(0, 100, 200, 300, 400))

axis(side = 1, lwd.ticks = 2, labels = F,  cex.axis = 2, las = 1, 
   at = c(0, 100, 200, 300, 400))

axis(side = 3, lwd.ticks = 2, labels = F,  cex.axis = 2, las = 1, 
   at = c(0, 100, 200, 300, 400))

# Bacterial Respiration

plot(metab$dist, metab$BR, ylab = "", xlab = "", pch = 22, ylim = c(0, 3.5), xlim = c(0, 400),
     cex = 2, bg = "white", col = "black", cex.lab = 2, las = 1, lwd = 2,
     yaxt = "n", xaxt = "n")
box(lwd = 2)

axis(side = 2, lwd.ticks = 2, cex.axis = 1.5, las = 1,
    labels = c("0.0", "1.5", "3.0"), at = c(0, 1.5, 3.0))
                              
axis(side = 4, lwd.ticks = 2, labels = F,  cex.axis = 2, las = 1, 
   at = c(0, 1.5, 3))

axis(side = 1, lwd.ticks = 2, labels = F,  cex.axis = 2, las = 1, 
   at = c(0, 100, 200, 300, 400))

axis(side = 3, lwd.ticks = 2, labels = F,  cex.axis = 2, las = 1, 
   at = c(0, 100, 200, 300, 400))

# Bacterial Growth Efficiency

plot(metab$dist, metab$BGE, ylab = "", xlab = "", pch = 22, ylim = c(0, 0.6), xlim = c(0, 400),
     cex = 2, bg = "white", col = "black", cex.lab = 2, las = 1, lwd = 2,
     yaxt = "n", xaxt = "n")
box(lwd = 2)

axis(side = 2, lwd.ticks = 2, cex.axis = 1.5, las = 1,
    labels = c("0.0", "0.3", "0.6"), at = c(0, 0.3, 0.6))
                              
axis(side = 4, lwd.ticks = 2, labels = F,  cex.axis = 2, las = 1, 
   at = c(0, 0.3, 0.6))

axis(side = 1, lwd.ticks = 2, labels = F,  cex.axis = 2, las = 1, 
   at = c(0, 100, 200, 300, 400))

axis(side = 3, lwd.ticks = 2, labels = F,  cex.axis = 2, las = 1, 
   at = c(0, 100, 200, 300, 400))

dev.off() # this writes plot to folder
graphics.off() # shuts down open devices
```